<template>
  <require from='client/src/elems/md-shadow'></require>
  <require from='client/src/elems/md-drawer'></require>
  <require from='client/src/elems/md-table'></require>
  <require from="client/src/elems/md-input"></require>
  <require from="client/src/elems/md-select"></require>
  <require from="client/src/elems/md-button"></require>
  <require from="client/src/elems/md-switch"></require>
  <require from="client/src/elems/md-snackbar"></require>
  <require from="client/src/elems/md-checkbox"></require>
  <require from="client/src/elems/md-autocomplete"></require>
  <require from="client/src/elems/md-menu"></require>
  <require from="client/src/elems/form"></require>

  <style>
    .mdl-button:hover { background-color:initial }
    .mdl-badge[data-badge]:after { font-size:9px; height:14px; width:14px; top:1px}
  </style>

  <section class="mdl-grid au-animate">

    <div if.bind = "!orderSelectedToShop">
      <md-input
        autoselect
        value.bind="pendedFilter"
        style="padding:0 8px; width:auto">
        Select Order
      </md-input>

      <div repeat.for="pend of pended | pendedFilter:pendedFilter">
        <div
          click.delegate="selectOrder(pend.key)"
          class="mdl-typography--title ${ term == 'Pended '+pend.key ? 'mdl-navigation__link--current' : ''}"
          style="font-size:13px; font-weight:600; cursor:pointer; color:#757575; padding:8px">
          ${pend.key}
        </div>
      </div>
    </div>

    <div if.bind = "orderSelectedToShop">
      <table>
        <tr><td style="padding:0"><md-input value.bind = "basketNumber">Basket Number</td></tr>
        <tr><th>GO TO:</th></tr>
        <tr><td style="padding:0">${shopList[shoppingIndex].bin}</td></tr>
        <tr><td style="padding:0">${shopList[shoppingIndex].drug.generic}</td></tr>
        <tr><td style="padding:0">EXP: ${shopList[shoppingIndex].exp.to}</td></tr>
        <tr><td style="padding:0">QTY: ${shopList[shoppingIndex].qty.to}</td></tr>

        <tr><td style="padding:0"><md-checkbox name = "exact_match" click.delegate="shoppingOption('exact_match')" checked.bind="shopList[shoppingIndex].outcome.exact_match">Exact Match</md-checkbox></td></tr>
        <tr><td style="padding:0"><md-checkbox name = "roughly_equal" click.delegate="shoppingOption('roughly_equal')" checked.bind="shopList[shoppingIndex].outcome.roughly_equal">+/-3 Qty</md-checkbox></td></tr>
        <tr><td style="padding:0"><md-checkbox name = "outcomeThree" click.delegate="shoppingOption('slot_before')" checked.bind="shopList[shoppingIndex].outcome.slot_before">Slot Before</md-checkbox></td></tr>
        <tr><td style="padding:0"><md-checkbox name = "outcomeFour" click.delegate="shoppingOption('slot_after')" checked.bind="shopList[shoppingIndex].outcome.slot_after">Slot After</md-checkbox></td></tr>
        <tr><td style="padding:0"><md-checkbox name = "outcomeFive" click.delegate="shoppingOption('missing')" checked.bind="shopList[shoppingIndex].outcome.missing">Missing</md-checkbox></td></tr>

        <tr>
          <td style="padding:0"><md-button color raised click.delegate="moveShoppingBackward()">Back</md-button></td>
          <td style="padding:0"><md-button color raised click.delegate="moveShoppingForward()">${nextButtonText}</md-button></td>
        </tr>

      </table>
    </div>



    <md-snackbar ref="snackbar"></md-snackbar>
    <dialog ref="dialog" class="mdl-dialog" style="width:800px; top:3%; height:90%; overflow-y:scroll">
    <h4 class="mdl-dialog__title" style="padding: 3px 0">History</h4>
    <div class="mdl-dialog__content" innerhtml.bind="history" style="white-space:pre-wrap; font-family:monospace; padding:16px 2px"></div>
    <div class="mdl-dialog__actions">
      <md-button click.delegate="closeHistoryDialog()">Close</md-button>
    </div>

  </dialog>
  </section>



</template>
